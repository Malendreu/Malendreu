<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CV Narratif</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      font-family: Tahoma, sans-serif;
      background: url('Room2.png') center/cover fixed no-repeat;
      height: 100vh;
      position: relative;
    }
    .icon-container {
      position: absolute;
      cursor: pointer;
      z-index: 20;
    }
    .icon-container img {
      width: 25px;
      transition: transform 0.3s ease;
    }
    .icon-container:hover img {
      transform: scale(1.5);
    }
    .tooltip {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 5px 10px;
      border-radius: 5px;
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
      white-space: nowrap;
    }
    .icon-container:hover .tooltip {
      opacity: 1;
    }

    .alpha-mask {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .alpha-mask.active {
      display: flex;
    }

    .popup {
      position: relative;
      width: 90%;
      max-width: 900px;
      height: 90%;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      display: flex;
      align-items: flex-end;
      justify-content: center;
    }

    .popup button {
      width: 150px;
      height: 50px;
      background: url('boutonnext.png') center/contain no-repeat;
      border: none;
      cursor: pointer;
      margin-bottom: 30px;
      z-index: 1100;
    }

    /* Vidéo */
    .video-container {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 560px; height: 315px;
      background: black;
      z-index: 1200;
    }
    .video-container iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    .close-video {
      position: absolute;
      top: -15px; right: -15px;
      background: white;
      color: black;
      border: none;
      border-radius: 50%;
      width: 30px; height: 30px;
      font-size: 20px;
      line-height: 30px;
      text-align: center;
      cursor: pointer;
    }

    /* Liens invisibles dans le popup jeux */
    .jeu-lien {
      position: absolute;
      cursor: pointer;
      z-index: 1150;
    }
    .jeu-lien:nth-child(1) { top: 270px; left: 470px; width: 200px; height: 100px; }
    .jeu-lien:nth-child(2) { top: 270px; left: 650px; width: 200px; height: 100px; }
    .jeu-lien:nth-child(3) { top: 440px; left: 150px; width: 200px; height: 100px; }
    .jeu-lien:nth-child(4) { top: 440px; left: 320px; width: 200px; height: 100px; }
    .jeu-lien:nth-child(5) { top: 440px; left: 550px; width: 200px; height: 100px; }

    /* Icônes positions */
    .realisations { top: 90px; left: 556px; }
    .enseignement { top: 90px; left: 760px; }
    .presse       { top: 300px; left: 386px; }
    .lien         { top: 306px; left: 252px; }
    .conception   { top: 305px; left: 1060px; }
    .projets      { top: 500px; left: 1170px; }
  </style>
</head>
<body>

  <!-- Popups -->
  <div id="intro-mask" class="alpha-mask active">
    <div class="popup" style="background-image: url('Intro.png')">
      <button onclick="nextPopup('intro')"></button>
    </div>
  </div>
  <div id="realisations-mask" class="alpha-mask">
    <div class="popup" style="background-image: url('Realisations.png')">
      <button onclick="closePopup('realisations')"></button>
    </div>
  </div>
  <div id="enseignement-mask" class="alpha-mask">
    <div class="popup" style="background-image: url('Enseignement1.png')">
      <button onclick="closePopup('enseignement')"></button>
    </div>
  </div>
  <div id="presse-mask" class="alpha-mask">
    <div class="popup" style="background-image: url('presse.png')">
      <button onclick="closePopup('presse')"></button>
    </div>
  </div>
  <div id="conception-mask" class="alpha-mask">
    <div class="popup" style="background-image: url('Conception.png')">
      <button onclick="closePopup('conception')"></button>
    </div>
  </div>
  <div id="projets-mask" class="alpha-mask">
    <div class="popup" style="background-image: url('jeux.png')" id="popup-jeux">
      <!-- Liens invisibles -->
      <div class="jeu-lien" data-video="https://www.youtube.com/embed/RXPQ3xj8L4o"></div>
      <div class="jeu-lien" data-video="https://www.youtube.com/embed/7P7MH3DT_8Q"></div>
      <div class="jeu-lien" data-video="https://www.youtube.com/embed/rMZ7WJSGWeo"></div>
      <div class="jeu-lien" data-video="https://www.youtube.com/embed/tcjOY3xPSDM"></div>
      <div class="jeu-lien" data-video="https://www.youtube.com/embed/VwTGos1JHsc"></div>
      <button onclick="closePopup('projets')"></button>
    </div>
  </div>

  <!-- Icônes -->
  <div class="icon-container realisations" onclick="openPopup('realisations')">
    <img src="icone_jaune.png"><span class="tooltip">Réalisations</span>
  </div>
  <div class="icon-container enseignement" onclick="openPopup('enseignement')">
    <img src="icone_bleu.png"><span class="tooltip">Enseignement</span>
  </div>
  <div class="icon-container presse" onclick="openPopup('presse')">
    <img src="icone_jaune.png"><span class="tooltip">Presse</span>
  </div>
  <div class="icon-container lien" onclick="window.open('https://editionsfides.com/collections/alexandre-maude', '_blank')">
    <img src="icone_jaune.png"><span class="tooltip">Lien</span>
  </div>
  <div class="icon-container conception" onclick="openPopup('conception')">
    <img src="icone_rose.png"><span class="tooltip">Conception</span>
  </div>
  <div class="icon-container projets" onclick="openPopup('projets')">
    <img src="icone_rose.png"><span class="tooltip">Projets</span>
  </div>

  <!-- Script -->
  <script>
    const masks = {
      intro: document.getElementById('intro-mask'),
      realisations: document.getElementById('realisations-mask'),
      enseignement: document.getElementById('enseignement-mask'),
      presse: document.getElementById('presse-mask'),
      conception: document.getElementById('conception-mask'),
      projets: document.getElementById('projets-mask')
    };

    function nextPopup(from) {
      masks[from].classList.remove('active');
      if (from === 'intro') {
        document.querySelector('.realisations').style.display = 'block';
        document.querySelector('.enseignement').style.display = 'block';
        document.querySelector('.conception').style.display = 'block';
      }
    }

    function openPopup(name) {
      masks[name].classList.add('active');
    }

    function closePopup(name) {
      masks[name].classList.remove('active');
    }

    // Gestion des vidéos dans le popup jeux
    document.querySelectorAll('.jeu-lien').forEach(link => {
      link.addEventListener('click', () => {
        const videoURL = link.dataset.video + '?autoplay=1';
        const container = document.createElement('div');
        container.className = 'video-container';
        container.innerHTML = `
          <iframe src="${videoURL}" allowfullscreen allow="autoplay; encrypted-media"></iframe>
          <button class="close-video" onclick="this.parentElement.remove()">×</button>
        `;
        document.getElementById('popup-jeux').appendChild(container);
      });
    });
  </script>
</body>
</html>
